<!-- profile.html -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Profile - APCommunity</title>
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
	<link rel="stylesheet" href="../css/general.css">
	<link rel="stylesheet" href="../css/profile.css">
</head>
<body data-category="profile">
<!-- Navigation -->
<nav class="topbar">
	<div class="logo">APCommunity</div>
	<ul>
		<li><a href="general.html" class="tab-link" data-category="general">General</a></li>
		<li><a href="academic.html" class="tab-link" data-category="academic">Academic</a></li>
		<li><a href="culture.html" class="tab-link" data-category="culture">Cultural</a></li>
		<li><a href="art.html" class="tab-link" data-category="art">Art</a></li>
		<li><a href="sport.html" class="tab-link" data-category="sport">Sport</a></li>
	</ul>
	<div class="profile-info" id="profileInfo">
		<img src="../image/AsiaPacificUniversityOfTechnologyInnovation.webp" alt="Profile" class="profile-pic" />
		<div class="profile-details">
			<span class="profile-username" id="profileUsername">Loading...</span>
			<span class="profile-email" id="profileEmail"></span>
		</div>
		<a class="logout-link" onclick="logout()">Log out</a>
	</div>
</nav>

<div class="container">
	<!-- Left Sidebar -->
	<aside class="sidebar-left">
		<a href="general.html" class="menu-item">
			<i class='bx bx-home'></i> Home
		</a>
		<a href="explore.html" class="menu-item">
			<i class='bx bx-compass'></i> Explore
		</a>
		<a href="notification.html" class="menu-item">
			<i class='bx bx-bell'></i> Notification
		</a>
		<a href="post.html" class="menu-item">
			<i class='bx bx-plus-circle'></i> Add a post
		</a>
		<a href="bookmark.html" class="menu-item">
			<i class='bx bx-bookmark'></i> Bookmark
		</a>
		<a href="profile.html" class="menu-item active">
			<i class='bx bx-user'></i> Profile
		</a>
		<a href="setting.html" class="menu-item">
			<i class='bx bx-cog'></i> Setting
		</a>
	</aside>
	
	<!-- Main Content -->
	<main class="main-feed">
		<!-- Profile Header -->
		<div class="profile-header">
			<div class="profile-banner">
				<img src="../image/default_banner.jpg" alt="Banner" class="banner-img">
				<div class="profile-avatar-container">
					<img src="../image/AsiaPacificUniversityOfTechnologyInnovation.webp" alt="Profile" class="profile-avatar">
					<button class="edit-avatar-btn" id="editAvatarBtn">
						<i class='bx bx-camera'></i>
					</button>
				</div>
			</div>
			
			<div class="profile-info-container">
				<div class="profile-details-main">
					<h1 id="profileDisplayName">Loading...</h1>
					<p class="profile-username" id="profileDisplayUsername">@username</p>
					<p class="profile-bio" id="profileBio">This user hasn't added a bio yet.</p>
					
					<div class="profile-stats">
						<div class="stat">
							<span class="stat-number" id="postCount">0</span>
							<span class="stat-label">Posts</span>
						</div>
						<div class="stat">
							<span class="stat-number" id="followerCount">0</span>
							<span class="stat-label">Followers</span>
						</div>
						<div class="stat">
							<span class="stat-number" id="followingCount">0</span>
							<span class="stat-label">Following</span>
						</div>
					</div>
				</div>
				
				<button class="edit-profile-btn" id="editProfileBtn">Edit Profile</button>
			</div>
		</div>
		
		<!-- Profile Content Tabs -->
		<div class="profile-tabs">
			<button class="tab-btn active" data-tab="posts">Posts</button>
			<button class="tab-btn" data-tab="about">About</button>
		</div>
		
		<!-- Posts Section -->
		<div class="tab-content active" id="postsTab">
			<div class="user-posts" id="userPosts">
				<!-- User's posts will be loaded here -->
				<div class="loading-spinner">
					<i class='bx bx-loader-circle bx-spin'></i>
					<p>Loading posts...</p>
				</div>
			</div>
		</div>
		
		<!-- About Section -->
		<div class="tab-content" id="aboutTab">
			<div class="about-section">
				<h3>About Me</h3>
				<div class="about-details">
					<div class="detail-item">
						<i class='bx bx-envelope'></i>
						<span id="aboutEmail">Loading...</span>
					</div>
					<div class="detail-item">
						<i class='bx bx-calendar'></i>
						<span>Joined <span id="joinDate">Loading...</span></span>
					</div>
					<div class="detail-item" id="locationItem" style="display: none;">
						<i class='bx bx-map'></i>
						<span id="locationText"></span>
					</div>
					<div class="detail-item" id="websiteItem" style="display: none;">
						<i class='bx bx-link'></i>
						<a href="#" id="websiteLink" target="_blank"></a>
					</div>
				</div>
			</div>
		</div>
	</main>
	
	<!-- Right Sidebar -->
	<aside class="sidebar-right">
		<h4>Suggested for you</h4>
		<ul class="suggestions" id="suggestedUsers">
			<!-- Suggested users will be loaded here -->
		</ul>
		
		<div class="community-stats">
			<h4>Community Stats</h4>
			<div class="stat-item">
				<i class='bx bx-group'></i>
				<span>Online: <strong id="onlineUsers">1</strong></span>
			</div>
			<div class="stat-item">
				<i class='bx bx-chat'></i>
				<span>Posts: <strong id="totalPosts">0</strong></span>
			</div>
			<div class="stat-item">
				<i class='bx bx-user'></i>
				<span>Members: <strong id="totalMembers">0</strong></span>
			</div>
		</div>
	</aside>
</div>

<!-- Edit Profile Modal -->
<div id="editProfileModal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2>Edit Profile</h2>
			<button class="close-modal" id="closeModal">&times;</button>
		</div>
		<form id="editProfileForm">
			<div class="form-group">
				<label for="editName">Full Name</label>
				<input type="text" id="editName" placeholder="Enter your full name">
			</div>
			
			<div class="form-group">
				<label for="editUsername">Username</label>
				<input type="text" id="editUsername" placeholder="Enter your username" disabled>
			</div>
			
			<div class="form-group">
				<label for="editBio">Bio</label>
				<textarea id="editBio" placeholder="Tell everyone about yourself" rows="3"></textarea>
			</div>
			
			<div class="form-group">
				<label for="editLocation">Location</label>
				<input type="text" id="editLocation" placeholder="Where are you from?">
			</div>
			
			<div class="form-group">
				<label for="editWebsite">Website</label>
				<input type="url" id="editWebsite" placeholder="https://example.com">
			</div>
			
			<div class="form-actions">
				<button type="button" class="btn btn-secondary" id="cancelEdit">Cancel</button>
				<button type="submit" class="btn btn-primary">Save Changes</button>
			</div>
		</form>
	</div>
</div>

<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
<script type="module" src="../js/profile.js"></script>
</body>
</html>